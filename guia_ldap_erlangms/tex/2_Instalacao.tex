Este capítulo aborda a instalação do barramento no sistema operacional Linux CentOS. 
A instalação pode ser realizada de maneira manual ou automatizada
através de instaladores ou gerenciadore de pacotes.

\section{Instalação automatizada}

Embora a instalação manual do barramento seja simples, pode ser utilizado o instalador 
disponível para Linux CentOS 7. A Figura \ref{fig:inst_auto} exibe 
o processo de instalação com o instalador:


	\lstset{language=bash,
			basicstyle=\footnotesize,
			numbers=left,
			numberstyle=\footnotesize,
			tabsize=2,
			numbers=none,
			rulesepcolor=\color{blue}}
	\renewcommand{\lstlistingname}{Código}             
	\begin{lstlisting}[Adding Erlang repository entry, label=fig:inst_auto] 

		$ wget https://github.com/erlangms/releases/blob/master/setup/setup_emsbus-1.0.11-el7.centos.x86_64.sh
		$ sudo ./setup_emsbus-1.0.11-el7.centos.x86_64.sh
		$ curl localhost:2301
		{"message": "It works!!!"}
	\end{lstlisting}



\section{Instalação manual}

Os seguintes passos devem ser realizados para realizar instalação manual do 
barramento de serviços ERLANGMS:


\begin{itemize}

	\item Adding Erlang repository entry
	
		
		\lstset{language=bash,
				basicstyle=\footnotesize,
				numbers=left,
				numberstyle=\footnotesize,
				tabsize=2,
				numbers=none,
				rulesepcolor=\color{blue}}
		\renewcommand{\lstlistingname}{Código}             
		\begin{lstlisting}[Adding Erlang repository entry, label=add_erlang_repo] 

			$ wget https://packages.erlang-solutions.com/erlang-solutions-1.0-1.noarch.rpm
			$ sudo rpm -Uvh erlang-solutions-1.0-1.noarch.rpm

		\end{lstlisting}


	\item Refresh the repository cache and install either the erlang package
	
		\lstset{language=bash,
					basicstyle=\footnotesize,
					numbers=left,
					numberstyle=\footnotesize,
					tabsize=2,
					numbers=none,
					rulesepcolor=\color{blue}}
		\renewcommand{\lstlistingname}{Código}             
		\begin{lstlisting}[Adding Erlang repository entry, label=install_erlang] 

			$ sudo apt-get update
			$ sudo yum -y install erlang-hipe-19.2-1.el7.centos.x86_64 \
			erlang-erl_docgen-19.2-1.el7.centos.x86_64 \
			erlang-erts-19.2-1.el7.centos.x86_64 \
			erlang-asn1-19.2-1.el7.centos.x86_64 \
			erlang-eunit-19.2-1.el7.centos.x86_64 \
			erlang-syntax_tools-19.2-1.el7.centos.x86_64 \
			erlang-runtime_tools-19.2-1.el7.centos.x86_64 \
			erlang-erl_interface-19.2-1.el7.centos.x86_64 \
			erlang-ic-19.2-1.el7.centos.x86_64 \
			erlang-stdlib-19.2-1.el7.centos.x86_64 \
			erlang-ssl-19.2-1.el7.centos.x86_64 \
			erlang-eldap-19.2-1.el7.centos.x86_64 \
			erlang-crypto-19.2-1.el7.centos.x86_64 \
			erlang-public_key-19.2-1.el7.centos.x86_64 \
			erlang-odbc-19.2-1.el7.centos.x86_64 \
			erlang-compiler-19.2-1.el7.centos.x86_64 \
			erlang-tools-19.2-1.el7.centos.x86_64 \
			erlang-edoc-19.2-1.el7.centos.x86_64 \
			erlang-kernel-19.2-1.el7.centos.x86_64 \
			erlang-inets-19.2-1.el7.centos.x86_64 \
			erlang-xmerl-19.2-1.el7.centos.x86_64 \
			erlang-parsetools-19.2-1.el7.centos.x86_64 \
			erlang-mnesia-19.2-1.el7.centos.x86_64 \
			erlang-doc-19.2-1.el7.centos.x86_64 \
			erlang-jinterface-19.2-1.el7.centos.x86_64 \
			erlang-gs-19.2-1.el7.centos.x86_64 \
			erlang-solutions-1.0-1.noarch \
			erlang-sasl-19.2-1.el7.centos.x86_64
			
		\end{lstlisting}
	

	\item Install Python3 from EPEL Repository
	
	
		\lstset{language=bash,
				basicstyle=\footnotesize,
				numbers=left,
				numberstyle=\footnotesize,
				tabsize=2,
				numbers=none,
				rulesepcolor=\color{blue}}
		\renewcommand{\lstlistingname}{Código}             
		\begin{lstlisting}[Adding Erlang repository entry, label=install_py] 

			$ sudo yum -y install yum-utils
			$ sudo yum -y install epel-release 
			$ sudo yum -y install python34 
			$ curl -O https://bootstrap.pypa.io/get-pip.py
			$ sudo /usr/bin/python3.4 get-pip.py 

		\end{lstlisting}
	

	\item Install OpenLdap tools 
	
		\lstset{language=bash,
				basicstyle=\footnotesize,
				numbers=left,
				numberstyle=\footnotesize,
				tabsize=2,
				numbers=none,
				rulesepcolor=\color{blue}}
		\renewcommand{\lstlistingname}{Código}             
		\begin{lstlisting}[Adding Erlang repository entry, label=install_openldaptools] 

			$ sudo yum -y install openldap openldap-clients

		\end{lstlisting}
	

	\item Install FreeTDS driver (driver for SQL Server)
	
		\lstset{language=bash,
				basicstyle=\footnotesize,
				numbers=left,
				numberstyle=\footnotesize,
				tabsize=2,
				numbers=none,
				rulesepcolor=\color{blue}}
		\renewcommand{\lstlistingname}{Código}             
		\begin{lstlisting}[Adding Erlang repository entry, label=install_freetds] 

			$ sudo yum -y install freetds.x86_64 freetds-devel.x86_64
			
		\end{lstlisting}
		
	
	\item Install ERLANGMS ESB
	
		\lstset{language=bash,
				basicstyle=\footnotesize,
				numbers=left,
				numberstyle=\footnotesize,
				tabsize=2,
				numbers=none,
				rulesepcolor=\color{blue}}
		\renewcommand{\lstlistingname}{Código}             
		\begin{lstlisting}[Adding Erlang repository entry, label=install_emsbus] 

			$ wget https://github.com/erlangMS/releases/raw/master/ems-bus_1.0.11/ems-bus-1.0.11-el7.centos.x86_64.rpm
			$ sudo rpm -ihv ems-bus-1.0.11-el7.centos.x86_64.rpm 

		\end{lstlisting}
	
	
\end{itemize}




